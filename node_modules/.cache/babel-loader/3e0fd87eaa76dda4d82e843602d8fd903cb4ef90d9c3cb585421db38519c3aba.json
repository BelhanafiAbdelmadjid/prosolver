{"ast":null,"code":"import _defineProperty from \"/Users/abdelmadjidbelhanafi/Documents/vsc project/Natixis/new-banxy-rest-api/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nclass apiFetch {\n  static get(endpoint, emit) {\n    return new Promise(resolve => {\n      fetch(this.BASE_URL + endpoint, {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {\n        response.json().then(data => {\n          if (emit) {\n            this.emitter.emit(\"sidebar-error\", {\n              error: response.ok,\n              description: data.msg\n            });\n          }\n          resolve(data);\n        });\n      });\n    });\n  }\n  static post(endpoint, payload, emit) {\n    return new Promise(resolve => {\n      fetch(this.BASE_URL + endpoint, {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          ...payload\n        })\n      }).then(response => {\n        response.json().then(data => {\n          if (emit) {\n            this.emitter.emit(\"sidebar-error\", {\n              error: response.ok,\n              description: data.msg\n            });\n          }\n          return data;\n        });\n      });\n    });\n  }\n}\n_defineProperty(apiFetch, \"BASE_URL\", \"http://localhost:5000\");\nexport default {\n  apiFetch\n};","map":{"version":3,"names":["apiFetch","get","endpoint","emit","Promise","resolve","fetch","BASE_URL","method","credentials","headers","then","response","json","data","emitter","error","ok","description","msg","post","payload","body","JSON","stringify","_defineProperty"],"sources":["/Users/abdelmadjidbelhanafi/Documents/vsc project/Natixis/new-banxy-rest-api/frontend/src/common/api.service.js"],"sourcesContent":["\nclass apiFetch{\n    static BASE_URL = \"http://localhost:5000\";\n    static get(endpoint,emit){\n        return new Promise((resolve)=>{\n            fetch(this.BASE_URL+endpoint,{\n                method: \"GET\",\n                credentials: \"include\", \n                headers: {\n                    \"Content-Type\": \"application/json\",\n                }\n            })\n            .then((response)=>{\n                response.json()\n                .then((data)=>{\n                    if(emit){\n                        this.emitter.emit(\"sidebar-error\",{\n                            error : response.ok,\n                            description : data.msg\n                        })\n                    }\n                    resolve(data);\n                })\n                \n            })\n        })\n    }\n\n    static post(endpoint,payload,emit){\n        return new Promise((resolve,)=>{\n            fetch(this.BASE_URL+endpoint,{\n                method: \"POST\",\n                credentials: \"include\", \n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body : JSON.stringify({ \n                    ...payload\n                  })\n            })\n            .then((response)=>{\n                response.json()\n                .then((data)=>{\n                    if(emit){\n                        this.emitter.emit(\"sidebar-error\",{\n                            error : response.ok,\n                            description : data.msg\n                        })\n                    }\n                    return data;\n                })\n                \n            })\n        })\n\n    }\n}\n\nexport default{apiFetch};"],"mappings":";AACA,MAAMA,QAAQ;EAEV,OAAOC,GAAGA,CAACC,QAAQ,EAACC,IAAI,EAAC;IACrB,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAG;MAC1BC,KAAK,CAAC,IAAI,CAACC,QAAQ,GAACL,QAAQ,EAAC;QACzBM,MAAM,EAAE,KAAK;QACbC,WAAW,EAAE,SAAS;QACtBC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB;MACJ,CAAC,CAAC,CACDC,IAAI,CAAEC,QAAQ,IAAG;QACdA,QAAQ,CAACC,IAAI,CAAC,CAAC,CACdF,IAAI,CAAEG,IAAI,IAAG;UACV,IAAGX,IAAI,EAAC;YACJ,IAAI,CAACY,OAAO,CAACZ,IAAI,CAAC,eAAe,EAAC;cAC9Ba,KAAK,EAAGJ,QAAQ,CAACK,EAAE;cACnBC,WAAW,EAAGJ,IAAI,CAACK;YACvB,CAAC,CAAC;UACN;UACAd,OAAO,CAACS,IAAI,CAAC;QACjB,CAAC,CAAC;MAEN,CAAC,CAAC;IACN,CAAC,CAAC;EACN;EAEA,OAAOM,IAAIA,CAAClB,QAAQ,EAACmB,OAAO,EAAClB,IAAI,EAAC;IAC9B,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAI;MAC3BC,KAAK,CAAC,IAAI,CAACC,QAAQ,GAACL,QAAQ,EAAC;QACzBM,MAAM,EAAE,MAAM;QACdC,WAAW,EAAE,SAAS;QACtBC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDY,IAAI,EAAGC,IAAI,CAACC,SAAS,CAAC;UAClB,GAAGH;QACL,CAAC;MACP,CAAC,CAAC,CACDV,IAAI,CAAEC,QAAQ,IAAG;QACdA,QAAQ,CAACC,IAAI,CAAC,CAAC,CACdF,IAAI,CAAEG,IAAI,IAAG;UACV,IAAGX,IAAI,EAAC;YACJ,IAAI,CAACY,OAAO,CAACZ,IAAI,CAAC,eAAe,EAAC;cAC9Ba,KAAK,EAAGJ,QAAQ,CAACK,EAAE;cACnBC,WAAW,EAAGJ,IAAI,CAACK;YACvB,CAAC,CAAC;UACN;UACA,OAAOL,IAAI;QACf,CAAC,CAAC;MAEN,CAAC,CAAC;IACN,CAAC,CAAC;EAEN;AACJ;AAACW,eAAA,CAvDKzB,QAAQ,cACQ,uBAAuB;AAwD7C,eAAc;EAACA;AAAQ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}