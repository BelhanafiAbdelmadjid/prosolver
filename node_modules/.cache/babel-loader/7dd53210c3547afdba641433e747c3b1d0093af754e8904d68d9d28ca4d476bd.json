{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, vModelSelect as _vModelSelect, withModifiers as _withModifiers, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-7589b93f\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0,\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"heading\"\n}, \"Login\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"inputContainer\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"inputIcon\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\",\n  fill: \"#2e2e2e\",\n  viewBox: \"0 0 16 16\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z\"\n})], -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"inputContainer\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"inputIcon\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\",\n  fill: \"#2e2e2e\",\n  viewBox: \"0 0 16 16\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z\"\n})], -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"Choice\"\n};\nconst _hoisted_8 = [\"value\"];\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  id: \"button\"\n}, \"Submit\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_loading = _resolveComponent(\"loading\");\n  return !$data.LogingIn ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.erreurConnect ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.HideMe && $options.HideMe(...args)),\n    class: \"erruer\"\n  }, [_createElementVNode(\"p\", null, _toDisplayString($data.messageErreur), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"])),\n    class: \"form_main\"\n  }, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.username = $event),\n    type: \"text\",\n    class: \"inputField\",\n    id: \"username\",\n    placeholder: \"Username\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.username]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.password = $event),\n    type: \"password\",\n    class: \"inputField\",\n    id: \"password\",\n    placeholder: \"Password\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])]), _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.ServerType = $event)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.options, (option, index) => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      value: option,\n      key: index\n    }, _toDisplayString(option), 9 /* TEXT, PROPS */, _hoisted_8);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.ServerType]])]), _hoisted_9], 32 /* NEED_HYDRATION */)])) : (_openBlock(), _createBlock(_component_loading, {\n    key: 1,\n    class: \"containerAnimation\"\n  }));\n}","map":{"version":3,"names":["key","class","_createElementVNode","xmlns","width","height","fill","viewBox","d","id","$data","LogingIn","_createElementBlock","_hoisted_1","erreurConnect","onClick","_cache","args","$options","HideMe","_toDisplayString","messageErreur","_createCommentVNode","onSubmit","_withModifiers","login","_hoisted_2","_hoisted_3","_hoisted_4","$event","username","type","placeholder","_hoisted_5","_hoisted_6","password","_hoisted_7","ServerType","_Fragment","_renderList","options","option","index","value","_hoisted_8","_hoisted_9","_createBlock","_component_loading"],"sources":["/Users/abdelmadjidbelhanafi/Documents/vsc project/Natixis/new-banxy-rest-api/frontend/src/views/login.vue"],"sourcesContent":["<template>\n    <div v-if=\"!LogingIn\"  class=\"container\" > \n      <div v-if=\"erreurConnect\" @click=\"HideMe\"  class=\"erruer\">\n        <p>{{ messageErreur }}</p>\n      </div>\n        <form @submit.prevent=\"login\" class=\"form_main\">\n          <p class=\"heading\">Login</p>\n          <div class=\"inputContainer\">\n                <svg class=\"inputIcon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2e2e2e\" viewBox=\"0 0 16 16\">\n                <path d=\"M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z\"></path>\n                </svg>\n            <input  v-model=\"username\" type=\"text\" class=\"inputField\" id=\"username\" placeholder=\"Username\">\n            </div>\n            \n            <div class=\"inputContainer\">\n                <svg class=\"inputIcon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2e2e2e\" viewBox=\"0 0 16 16\">\n                <path d=\"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z\"></path>\n                </svg>\n                <input v-model=\"password\" type=\"password\" class=\"inputField\" id=\"password\" placeholder=\"Password\">\n            </div>\n\n\n                            \n            <div class=\"Choice\">\n                <select  v-model=\"ServerType\" >\n                <option  v-for=\"option , index in options\" :value=\"option\" :key=\"index\">{{ option }}</option>\n              </select>\n            </div>\n                        \n            <button id=\"button\">Submit</button>\n\n        </form>\n              \n    </div>\n    <loading class=\"containerAnimation\" v-else ></loading>\n\n</template>\n<script>\nimport loading from \"../../Loadings/Mediumloading.vue\"\n\nexport default{\n    name :'login-vue',\n    data(){\n      return{\n        messageErreur : null,\n        username : \"\",\n        password : \"\",\n        serveurs : null,\n        ServerType : \"Prod\",\n        options : [\"Prod\",\"UAT\"],\n        erreurConnect : false,\n        LogingIn : false,\n      }\n    },\n    methods : {\n        login(){\n          if(this.ServerType == null){\n            this.messageErreur = \"Please select a server type.\";\n            return ;\n          }\n          this.LogingIn = true;\n          fetch('http://127.0.0.1:5000/api/'+this.ServerType+'/login', {\n            method: \"POST\",\n            credentials: \"include\", \n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\"username\" :  this.username , \"password\" : this.password}),\n          })\n            .then(response => {\n              response.json().then((data)=>{\n                if(response.status == 200){\n                  this.AuthStore.setUserName(this.username);\n                  this.AuthStore.setAdmin(data[\"admin\"]);\n                  this.AuthStore.setConnexionType({\n                    UAT : this.ServerType == 'UAT'? true : false,\n                    PROD : this.ServerType == 'UAT'? false : true,\n                  })\n                  this.$router.push({name : 'supervision' , query : { UAT :  this.ServerType == 'UAT' ? true : false , Prod :  this.ServerType == 'Prod' ? true : false  }});\n                }else{\n                  this.erreurConnect = true;\n                  this.LogingIn = false;\n                  this.messageErreur = data.msg;\n                }\n              })\n                \n            })\n            .catch((err) => {\n              console.log(err)\n              this.$router.push(\"/Server-Down\");\n            } )\n            \n        },\n        HideMe(){\n          this.erreurConnect = false;\n        },\n        checkLogin(){\n          fetch('http://127.0.0.1:5000/api/UAT/logedin', {\n            method: \"GET\",\n            credentials: \"include\", \n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            })\n            .then(response => {\n                if(response.status == 200){\n                    this.$router.push(\"/Home\"); this.$router.push({name : 'supervision' , query : { UAT :  this.ServerType == 'UAT' ? true : false , Prod :  this.ServerType == 'Prod' ? true : false  }});\n                }\n            })\n            .catch((err) =>{\n              console.log(err);\n              this.$router.push(\"/Server-Down\");\n            });\n    }\n    },\n    mounted(){\n      this.checkLogin();\n    },\n    components: {\n      loading\n  },\n  setup(){\n    const AuthStore = UseAuthStore();\n    return{\n        AuthStore,//permet de rendre le store accesible dans le tempalte\n    }\n}\n}\n</script>\n<style scoped >\n.erruer{\n  position: absolute;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 100%;\n\n  left: 0;\n  top: 0;\n\n  background-color: rgb(235, 72, 72);\n  color:white;\n  font-weight : 500;\n\n  padding: 5px;\n  box-sizing: border-box;\n}\n.container{\n    height: 100vh;\n    width: 100%;\n    background-color: #dee4ed;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    align-items: center;\n\n    position:relative;\n}\n.form_main {\n  width: 220px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: rgb(255, 255, 255);\n  padding: 30px 30px 30px 30px;\n  box-shadow: 0px 0px 40px rgba(0, 0, 0, 0.062);\n  position: relative;\n  overflow: hidden;\n}\n\n.form_main::before {\n  position: absolute;\n  content: \"\";\n  width: 300px;\n  height: 300px;\n  background-color: rgb(209, 193, 255);\n  transform: rotate(45deg);\n  left: -180px;\n  bottom: 30px;\n  z-index: 1;\n  border-radius: 30px;\n  box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.082);\n}\n\n.heading {\n  font-size: 2em;\n  color: #2e2e2e;\n  font-weight: 700;\n  margin: 5px 0 10px 0;\n  z-index: 2;\n}\n\n.inputContainer {\n  width: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2;\n}\n\n.inputIcon {\n  position: absolute;\n  left: 3px;\n}\n\n.inputField {\n  width: 100%;\n  height: 30px;\n  background-color: transparent;\n  border: none;\n  border-bottom: 2px solid rgb(173, 173, 173);\n  margin: 10px 0;\n  color: black;\n  font-size: .8em;\n  font-weight: 500;\n  box-sizing: border-box;\n  padding-left: 30px;\n}\n\n.inputField:focus {\n  outline: none;\n  border-bottom: 2px solid rgb(199, 114, 255);\n}\n\n.inputField::placeholder {\n  color: rgb(80, 80, 80);\n  font-size: 1em;\n  font-weight: 500;\n}\n\n#button {\n  z-index: 2;\n  position: relative;\n  width: 100%;\n  border: none;\n  background-color: rgb(162, 104, 255);\n  height: 30px;\n  color: white;\n  font-size: .8em;\n  font-weight: 500;\n  letter-spacing: 1px;\n  margin: 10px;\n  cursor: pointer;\n}\n\n#button:hover {\n  background-color: rgb(126, 84, 255);\n}\n\n.forgotLink {\n  z-index: 2;\n  font-size: .7em;\n  font-weight: 500;\n  color: rgb(44, 24, 128);\n  text-decoration: none;\n  padding: 8px 15px;\n  border-radius: 20px;\n}\n\n.Choice{\n  width: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  z-index: 2;\n\n}\n</style>"],"mappings":";;;EAAAA,GAAA;EAC2BC,KAAK,EAAC;;gEAKvBC,mBAAA,CAA4B;EAAzBD,KAAK,EAAC;AAAS,GAAC,OAAK;;EACnBA,KAAK,EAAC;AAAgB;gEACrBC,mBAAA,CAEM;EAFDD,KAAK,EAAC,WAAW;EAACE,KAAK,EAAC,4BAA4B;EAACC,KAAK,EAAC,IAAI;EAACC,MAAM,EAAC,IAAI;EAACC,IAAI,EAAC,SAAS;EAACC,OAAO,EAAC;iBACxGL,mBAAA,CAAupB;EAAjpBM,CAAC,EAAC;AAAuoB,G;;EAK9oBP,KAAK,EAAC;AAAgB;gEACvBC,mBAAA,CAEM;EAFDD,KAAK,EAAC,WAAW;EAACE,KAAK,EAAC,4BAA4B;EAACC,KAAK,EAAC,IAAI;EAACC,MAAM,EAAC,IAAI;EAACC,IAAI,EAAC,SAAS;EAACC,OAAO,EAAC;iBACxGL,mBAAA,CAA8I;EAAxIM,CAAC,EAAC;AAA8H,G;;EAOrIP,KAAK,EAAC;AAAQ;mBAvB/B;gEA6BYC,mBAAA,CAAmC;EAA3BO,EAAE,EAAC;AAAQ,GAAC,QAAM;;;UA5BtBC,KAAA,CAAAC,QAAQ,I,cAApBC,mBAAA,CAgCM,OAhCNC,UAgCM,GA/BOH,KAAA,CAAAI,aAAa,I,cAAxBF,mBAAA,CAEM;IAJZZ,GAAA;IAEiCe,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,MAAA,IAAAD,QAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;IAAGhB,KAAK,EAAC;MAC/CC,mBAAA,CAA0B,WAAAkB,gBAAA,CAApBV,KAAA,CAAAW,aAAa,iB,KAH3BC,mBAAA,gBAKQpB,mBAAA,CA0BO;IA1BAqB,QAAM,EAAAP,MAAA,QAAAA,MAAA,MALrBQ,cAAA,KAAAP,IAAA,KAK+BC,QAAA,CAAAO,KAAA,IAAAP,QAAA,CAAAO,KAAA,IAAAR,IAAA,CAAK;IAAEhB,KAAK,EAAC;MAClCyB,UAA4B,EAC5BxB,mBAAA,CAKQ,OALRyB,UAKQ,GAJFC,UAEM,E,gBACV1B,mBAAA,CAA+F;IAX3G,uBAAAc,MAAA,QAAAA,MAAA,MAAAa,MAAA,IAW6BnB,KAAA,CAAAoB,QAAQ,GAAAD,MAAA;IAAEE,IAAI,EAAC,MAAM;IAAC9B,KAAK,EAAC,YAAY;IAACQ,EAAE,EAAC,UAAU;IAACuB,WAAW,EAAC;iDAAnEtB,KAAA,CAAAoB,QAAQ,E,KAGzB5B,mBAAA,CAKM,OALN+B,UAKM,GAJFC,UAEM,E,gBACNhC,mBAAA,CAAkG;IAlBlH,uBAAAc,MAAA,QAAAA,MAAA,MAAAa,MAAA,IAkBgCnB,KAAA,CAAAyB,QAAQ,GAAAN,MAAA;IAAEE,IAAI,EAAC,UAAU;IAAC9B,KAAK,EAAC,YAAY;IAACQ,EAAE,EAAC,UAAU;IAACuB,WAAW,EAAC;iDAAvEtB,KAAA,CAAAyB,QAAQ,E,KAK5BjC,mBAAA,CAIM,OAJNkC,UAIM,G,gBAHFlC,mBAAA,CAEO;IA1BvB,uBAAAc,MAAA,QAAAA,MAAA,MAAAa,MAAA,IAwBkCnB,KAAA,CAAA2B,UAAU,GAAAR,MAAA;yBAC5BjB,mBAAA,CAA6F0B,SAAA,QAzB7GC,WAAA,CAyBkD7B,KAAA,CAAA8B,OAAO,EAzBzD,CAyBgCC,MAAM,EAAGC,KAAK;yBAA9B9B,mBAAA,CAA6F;MAAjD+B,KAAK,EAAEF,MAAM;MAAGzC,GAAG,EAAE0C;wBAAUD,MAAM,wBAzBjGG,UAAA;2EAwBkClC,KAAA,CAAA2B,UAAU,E,KAKhCQ,UAAmC,C,+CAK3CC,YAAA,CAAsDC,kBAAA;IAlC1D/C,GAAA;IAkCaC,KAAK,EAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}