{"ast":null,"code":"import apiFetch from \"@/common/api.service.js\";\nimport queryNavbar from \"@/components/interraction/query/query-navbar.vue\";\nimport cardRoute from \"@/components/interraction/cards/card-route.vue\";\nexport default {\n  name: 'incidents-index',\n  data() {\n    return {\n      incidents: []\n    };\n  },\n  components: {\n    queryNavbar,\n    cardRoute\n  },\n  methods: {\n    onInputChanged(input) {\n      this.getServersWithNameLike(input);\n    },\n    getincidents() {\n      //fetch here\n      let endpoint = \"/incidents\";\n      apiFetch.get(endpoint, false).then(incidents => {\n        this.incidents = incidents;\n      });\n    },\n    getServersWithNameLike(NameLike) {\n      console.log(NameLike);\n    }\n  },\n  mounted() {\n    this.getincidents();\n  }\n};","map":{"version":3,"names":["apiFetch","queryNavbar","cardRoute","name","data","incidents","components","methods","onInputChanged","input","getServersWithNameLike","getincidents","endpoint","get","then","NameLike","console","log","mounted"],"sources":["/Users/abdelmadjidbelhanafi/Documents/vsc project/Natixis/new-banxy-rest-api/frontend/src/views/incidents/index.vue"],"sourcesContent":["<template>\n    <div class=\"holders incidents-holder\">\n        <queryNavbar @input-changed=\"onInputChanged\" :theme=\"'flashy'\" >\n            <template #Title>\n                Incidents\n            </template>\n            <template #options >\n                <p @click=\"$router.push({'name' : 'incidentCreate'})\" >create+</p>\n            </template>\n        </queryNavbar>\n        <div class=\"cards\">\n            <cardRoute v-for=\"incident in incidents\" :key=\"incident.id\" >\n                <template #Titre >\n                    {{ incident.name }}\n                    <RouterLink style=\"display: flex;justify-content: center;align-items: center;\"   :to=\"{ name: 'incidentShow' , params : { id : incident.id } , query : {name : incident.name , description : incident.description} }\"  >\n                        <svg width=\"20\" height=\"20\" viewBox=\"0 0 512 512\" fill=\"none\">\n                            <path\n                                d=\"M384 224V408C384 413.253 382.965 418.454 380.955 423.307C378.945 428.16 375.999 432.57 372.284 436.284C368.57 439.999 364.16 442.945 359.307 444.955C354.454 446.965 349.253 448 344 448H104C93.3913 448 83.2172 443.786 75.7157 436.284C68.2143 428.783 64 418.609 64 408V168C64 157.391 68.2143 147.217 75.7157 139.716C83.2172 132.214 93.3913 128 104 128H271.48M336 64H448V176M224 288L440 72\"\n                                stroke=\"#222222\" stroke-width=\"32\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                        </svg>\n                    </RouterLink>\n                </template>\n                <template #icon >\n                    <RouterLink    :to=\"{ name: 'incidentShow' , params : { id : incident.id } , query : {name : incident.name , description : incident.description} }\"  >\n                        <svg width=\"20\" height=\"20\" viewBox=\"0 0 512 512\" fill=\"none\">\n                            <path\n                                d=\"M384 224V408C384 413.253 382.965 418.454 380.955 423.307C378.945 428.16 375.999 432.57 372.284 436.284C368.57 439.999 364.16 442.945 359.307 444.955C354.454 446.965 349.253 448 344 448H104C93.3913 448 83.2172 443.786 75.7157 436.284C68.2143 428.783 64 418.609 64 408V168C64 157.391 68.2143 147.217 75.7157 139.716C83.2172 132.214 93.3913 128 104 128H271.48M336 64H448V176M224 288L440 72\"\n                                stroke=\"#222222\" stroke-width=\"32\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                        </svg>\n                    </RouterLink>\n                </template>\n\n                <template #Description >\n                    {{ incident.description }}\n                </template>\n            </cardRoute>\n\n        </div>\n    </div>\n</template>\n<script>\nimport apiFetch from \"@/common/api.service.js\"\n\nimport queryNavbar from \"@/components/interraction/query/query-navbar.vue\"\nimport cardRoute from \"@/components/interraction/cards/card-route.vue\"\n\n\nexport default{\n    name : 'incidents-index',\n    data(){\n        return{\n            incidents : []\n        }\n    },\n    components : {\n        queryNavbar,\n        cardRoute\n    },\n    methods : {\n        onInputChanged(input){\n            this.getServersWithNameLike(input);\n        },\n        getincidents(){\n            //fetch here\n            let endpoint = \"/incidents\"\n            apiFetch.get(endpoint,false)\n            .then( (incidents)=>{\n            this.incidents= incidents;\n            })\n\n        },\n        getServersWithNameLike(NameLike){\n            console.log(NameLike)\n      },\n    },\n    mounted(){\n        this.getincidents();\n    }\n}\n</script>\n<style scoped >\n.incidents-holder{\n    display: grid;\n    grid-template-rows: auto 1fr;\n    \n\n    height: 100%;\n    width: 100%;\n}\n.cards{\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: repeat(50px) ;\n    grid-auto-rows: 125px;\n\n    border-radius: 10px;\n    overflow: hidden;\n}\n\n</style>"],"mappings":"AAyCA,OAAOA,QAAO,MAAO,yBAAwB;AAE7C,OAAOC,WAAU,MAAO,kDAAiD;AACzE,OAAOC,SAAQ,MAAO,gDAA+C;AAGrE,eAAc;EACVC,IAAG,EAAI,iBAAiB;EACxBC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,SAAQ,EAAI;IAChB;EACJ,CAAC;EACDC,UAAS,EAAI;IACTL,WAAW;IACXC;EACJ,CAAC;EACDK,OAAM,EAAI;IACNC,cAAcA,CAACC,KAAK,EAAC;MACjB,IAAI,CAACC,sBAAsB,CAACD,KAAK,CAAC;IACtC,CAAC;IACDE,YAAYA,CAAA,EAAE;MACV;MACA,IAAIC,QAAO,GAAI,YAAW;MAC1BZ,QAAQ,CAACa,GAAG,CAACD,QAAQ,EAAC,KAAK,EAC1BE,IAAI,CAAGT,SAAS,IAAG;QACpB,IAAI,CAACA,SAAS,GAAEA,SAAS;MACzB,CAAC;IAEL,CAAC;IACDK,sBAAsBA,CAACK,QAAQ,EAAC;MAC5BC,OAAO,CAACC,GAAG,CAACF,QAAQ;IAC1B;EACF,CAAC;EACDG,OAAOA,CAAA,EAAE;IACL,IAAI,CAACP,YAAY,CAAC,CAAC;EACvB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}