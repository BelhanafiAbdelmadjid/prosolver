{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport loading from \"@/components/loadingAnimations/dot-animation.vue\";\nexport default {\n  name: 'login-vue',\n  data() {\n    return {\n      messageErreur: null,\n      username: \"\",\n      password: \"\",\n      serveurs: null,\n      ServerType: \"Prod\",\n      options: [\"Prod\", \"UAT\"],\n      erreurConnect: false,\n      LogingIn: false\n    };\n  },\n  methods: {\n    login() {\n      if (this.ServerType == null) {\n        this.messageErreur = \"Please select a server type.\";\n        return;\n      }\n      this.LogingIn = true;\n      fetch('http://127.0.0.1:5000/api/' + this.ServerType + '/login', {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          \"username\": this.username,\n          \"password\": this.password\n        })\n      }).then(response => {\n        response.json().then(data => {\n          if (response.status == 200) {\n            this.AuthStore.setUserName(this.username);\n            this.AuthStore.setAdmin(data[\"admin\"]);\n            this.AuthStore.setConnexionType({\n              UAT: this.ServerType == 'UAT' ? true : false,\n              PROD: this.ServerType == 'UAT' ? false : true\n            });\n            this.$router.push({\n              name: 'supervision',\n              query: {\n                UAT: this.ServerType == 'UAT' ? true : false,\n                Prod: this.ServerType == 'Prod' ? true : false\n              }\n            });\n          } else {\n            this.erreurConnect = true;\n            this.LogingIn = false;\n            this.messageErreur = data.msg;\n          }\n        });\n      }).catch(err => {\n        console.log(err);\n        this.$router.push(\"/Server-Down\");\n      });\n    },\n    HideMe() {\n      this.erreurConnect = false;\n    },\n    checkLogin() {\n      fetch('http://127.0.0.1:5000/api/UAT/logedin', {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {\n        if (response.status == 200) {\n          this.$router.push(\"/Home\");\n          this.$router.push({\n            name: 'supervision',\n            query: {\n              UAT: this.ServerType == 'UAT' ? true : false,\n              Prod: this.ServerType == 'Prod' ? true : false\n            }\n          });\n        }\n      }).catch(err => {\n        console.log(err);\n        this.$router.push(\"/Server-Down\");\n      });\n    }\n  },\n  mounted() {\n    this.checkLogin();\n  },\n  components: {\n    loading\n  }\n};","map":{"version":3,"names":["loading","name","data","messageErreur","username","password","serveurs","ServerType","options","erreurConnect","LogingIn","methods","login","fetch","method","credentials","headers","body","JSON","stringify","then","response","json","status","AuthStore","setUserName","setAdmin","setConnexionType","UAT","PROD","$router","push","query","Prod","msg","catch","err","console","log","HideMe","checkLogin","mounted","components"],"sources":["/Users/abdelmadjidbelhanafi/Documents/vsc project/Natixis/new-banxy-rest-api/frontend/src/views/login.vue"],"sourcesContent":["<template>\n    <div v-if=\"!LogingIn\"  class=\"login-holder\" > \n      <div v-if=\"erreurConnect\" @click=\"HideMe\"  class=\"erruer\">\n        <p>{{ messageErreur }}</p>\n      </div>\n        <form @submit.prevent=\"login\" class=\"form_main\">\n          <p class=\"heading\">Login</p>\n          <div class=\"inputContainer\">\n                <svg class=\"inputIcon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2e2e2e\" viewBox=\"0 0 16 16\">\n                <path d=\"M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z\"></path>\n                </svg>\n            <input  v-model=\"username\" type=\"text\" class=\"inputField\" id=\"username\" placeholder=\"Username\">\n            </div>\n            \n            <div class=\"inputContainer\">\n                <svg class=\"inputIcon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2e2e2e\" viewBox=\"0 0 16 16\">\n                <path d=\"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z\"></path>\n                </svg>\n                <input v-model=\"password\" type=\"password\" class=\"inputField\" id=\"password\" placeholder=\"Password\">\n            </div>\n\n\n                            \n            <div class=\"Choice\">\n                <select  v-model=\"ServerType\" >\n                <option  v-for=\"option , index in options\" :value=\"option\" :key=\"index\">{{ option }}</option>\n              </select>\n            </div>\n                        \n            <button id=\"button\">Submit</button>\n\n        </form>\n              \n    </div>\n    <loading class=\"containerAnimation\" v-else ></loading>\n\n</template>\n<script>\nimport loading from \"@/components/loadingAnimations/dot-animation.vue\"\n\n\nexport default{\n    name :'login-vue',\n    data(){\n      return{\n        messageErreur : null,\n        username : \"\",\n        password : \"\",\n        serveurs : null,\n        ServerType : \"Prod\",\n        options : [\"Prod\",\"UAT\"],\n        erreurConnect : false,\n        LogingIn : false,\n      }\n    },\n    methods : {\n        login(){\n          if(this.ServerType == null){\n            this.messageErreur = \"Please select a server type.\";\n            return ;\n          }\n          this.LogingIn = true;\n          fetch('http://127.0.0.1:5000/api/'+this.ServerType+'/login', {\n            method: \"POST\",\n            credentials: \"include\", \n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\"username\" :  this.username , \"password\" : this.password}),\n          })\n            .then(response => {\n              response.json().then((data)=>{\n                if(response.status == 200){\n                  this.AuthStore.setUserName(this.username);\n                  this.AuthStore.setAdmin(data[\"admin\"]);\n                  this.AuthStore.setConnexionType({\n                    UAT : this.ServerType == 'UAT'? true : false,\n                    PROD : this.ServerType == 'UAT'? false : true,\n                  })\n                  this.$router.push({name : 'supervision' , query : { UAT :  this.ServerType == 'UAT' ? true : false , Prod :  this.ServerType == 'Prod' ? true : false  }});\n                }else{\n                  this.erreurConnect = true;\n                  this.LogingIn = false;\n                  this.messageErreur = data.msg;\n                }\n              })\n                \n            })\n            .catch((err) => {\n              console.log(err)\n              this.$router.push(\"/Server-Down\");\n            } )\n            \n        },\n        HideMe(){\n          this.erreurConnect = false;\n        },\n        checkLogin(){\n          fetch('http://127.0.0.1:5000/api/UAT/logedin', {\n            method: \"GET\",\n            credentials: \"include\", \n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            })\n            .then(response => {\n                if(response.status == 200){\n                    this.$router.push(\"/Home\"); this.$router.push({name : 'supervision' , query : { UAT :  this.ServerType == 'UAT' ? true : false , Prod :  this.ServerType == 'Prod' ? true : false  }});\n                }\n            })\n            .catch((err) =>{\n              console.log(err);\n              this.$router.push(\"/Server-Down\");\n            });\n    }\n    },\n    mounted(){\n      this.checkLogin();\n    },\n    components: {\n      loading\n  },\n\n}\n</script>\n<style scoped >\n.erruer{\n  position: absolute;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 100%;\n\n  left: 0;\n  top: 0;\n\n  background-color: rgb(235, 72, 72);\n  color:var( --white-text-color);\n  font-weight : 500;\n\n  padding: 5px;\n  box-sizing: border-box;\n}\n.login-holder{\n  position:fixed;\n  top:0;\n  left: 0;\n  z-index: 99999;\n\n  height: 100vh;\n  width: 100vw;\n  background-color: var( --background-color);\n\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n\n    \n}\n.form_main {\n  width: 220px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--light-color-0);\n  padding: 30px 30px 30px 30px;\n  box-shadow: 0px 0px 40px rgba(0, 0, 0, 0.062);\n  position: relative;\n  overflow: hidden;\n}\n\n.form_main::before {\n  position: absolute;\n  content: \"\";\n  width: 300px;\n  height: 300px;\n  background-color: var(--light-color-1);\n  transform: rotate(45deg);\n  left: -180px;\n  bottom: 30px;\n  z-index: 1;\n  border-radius: 30px;\n  box-shadow: 5px 5px 10px #00000015;\n}\n\n.heading {\n  font-size: 2em;\n  color: var(--dark-text-color);\n  font-weight: 700;\n  margin: 5px 0 10px 0;\n  z-index: 2;\n}\n\n.inputContainer {\n  width: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2;\n}\n\n.inputIcon {\n  position: absolute;\n  left: 3px;\n}\n\n.inputField {\n  width: 100%;\n  height: 30px;\n  background-color: transparent;\n  border: none;\n  border-bottom: 2px solid rgb(173, 173, 173);\n  margin: 10px 0;\n  color: var(--dark-text-color);\n  font-size: .8em;\n  font-weight: 500;\n  box-sizing: border-box;\n  padding-left: 30px;\n}\n\n.inputField:focus {\n  outline: none;\n  border-bottom: 2px solid rgb(199, 114, 255);\n}\n\n.inputField::placeholder {\n  color: var(--gray-text-color-1);\n  font-size: 1em;\n  font-weight: 500;\n}\n\n#button {\n  z-index: 2;\n  position: relative;\n  width: 100%;\n  border: none;\n  background-color: rgb(162, 104, 255);\n  height: 30px;\n  color: white;\n  font-size: .8em;\n  font-weight: 500;\n  letter-spacing: 1px;\n  margin: 10px;\n  cursor: pointer;\n}\n\n#button:hover {\n  background-color: rgb(126, 84, 255);\n}\n\n.forgotLink {\n  z-index: 2;\n  font-size: .7em;\n  font-weight: 500;\n  color: rgb(44, 24, 128);\n  text-decoration: none;\n  padding: 8px 15px;\n  border-radius: 20px;\n}\n\n.Choice{\n  width: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  z-index: 2;\n\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}