{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport queryInputVue from '@/components/query-input.vue';\nimport tableComponentVue from '@/components/UI/table-query.vue';\nimport queryNbarVue from '@/components/UI/query-nbar.vue';\nimport rectListDetailsVue from '@/components/UI/query-component.vue';\nimport rectListVue from '@/components/UI/rect-list.vue';\nimport rectWithDetailsVue from '@/components/UI/rect-with-details.vue';\nimport loadingBar from \"@/components/Loadings/smallLoadingAnimation.vue\";\nimport SquarLoading from \"@/components/Loadings/bigLoadingAnimation.vue\";\nimport Servers from '@/store/models/servers';\nexport default {\n  data() {\n    return {\n      servers: null,\n      researchKeyFromQueryInput: null,\n      serversTemp: [],\n      minimise: true,\n      queryNotFound: false\n    };\n  },\n  components: {\n    queryNbarVue,\n    loadingBar,\n    tableComponentVue,\n    queryInputVue,\n    rectListDetailsVue,\n    SquarLoading,\n    rectListVue,\n    rectWithDetailsVue\n  },\n  watch: {\n    researchKeyFromQueryInput(v) {\n      v = v.trim().toUpperCase();\n      this.serversTemp = [];\n      for (let server of this.servers) {\n        if (server.name.toUpperCase().includes(v) || server.ip.toUpperCase().includes(v)) {\n          this.serversTemp.push(server);\n        }\n      }\n      if (this.serversTemp.length == 0) {\n        this.queryNotFound = true;\n      } else {\n        this.queryNotFound = false;\n      }\n    },\n    \"$route.query.UAT\": function () {\n      this.servers = null;\n      this.loadServers();\n    },\n    \"$route.query.Prod\": function () {\n      this.servers = null;\n      this.loadServers();\n    }\n  },\n  async beforeMount() {\n    if (this.$route.query.UAT) {\n      await Servers.getUATservers().then(res => {\n        this.servers = res;\n      });\n    }\n  },\n  methods: {\n    async loadServers() {\n      if (this.$route.query.UAT) {\n        await Servers.getUATservers().then(res => {\n          this.servers = res;\n        });\n      } else {\n        await Servers.getPRODServers().then(res => {\n          this.servers = res;\n        });\n      }\n    },\n    async OnOpeningDoRequest(server) {\n      server.containers = [];\n      await server.getContainers();\n    }\n  }\n};","map":{"version":3,"names":["queryInputVue","tableComponentVue","queryNbarVue","rectListDetailsVue","rectListVue","rectWithDetailsVue","loadingBar","SquarLoading","Servers","data","servers","researchKeyFromQueryInput","serversTemp","minimise","queryNotFound","components","watch","v","trim","toUpperCase","server","name","includes","ip","push","length","$route.query.UAT","loadServers","$route.query.Prod","beforeMount","$route","query","UAT","getUATservers","then","res","methods","getPRODServers","OnOpeningDoRequest","containers","getContainers"],"sources":["/Users/abdelmadjidbelhanafi/Documents/vsc project/Natixis/new-banxy-rest-api/frontend/src/views/supervision.vue"],"sourcesContent":["<template>\n    <div class=\"holder-superivsion\">\n        <div class=\"Welcomeback\">\n            <h1>Welcome back, adminprod42!ðŸ‘‹</h1>\n            <p>How things are going today?</p>\n        </div>\n        <queryNbarVue  >\n                    <template v-slot:Titre >{{ $route.query.UAT ? \"UAT\" : \"Prod\" }}-Servers</template>\n                    <template v-slot:Query>\n                        <p style=\"cursor:pointer\" @click=\"minimise=true;\">Minimise</p>\n                        <p style=\"cursor:pointer\" @click=\"minimise=false;\">Expend</p>\n                        <queryInputVue>\n                            <input v-model=\"researchKeyFromQueryInput\" placeholder=\"Look for a server...\" type=\"text\" >\n                        </queryInputVue>\n                    </template>\n        </queryNbarVue>\n        <div v-if=\"servers!=null && servers.length != 0\" class=\"listing\" >\n            <tableComponentVue v-if=\"minimise\">\n                <template  v-slot:tableHead>\n                        <p>Name</p>\n                        <p>Ip</p>\n                        <p>Status</p>\n                </template>\n                <template v-if=\"(researchKeyFromQueryInput == null || researchKeyFromQueryInput == '')\" v-slot:Tablelines>\n                    <div v-for=\"(server,index) in servers\" :key=\"index\" class=\"table-line table-lines \" :class=\" {  'table-line-dark' : index%2 !=0 , 'table-line-light' : !(index%2 !=0)}\">\n                        <p>{{ server.name }}</p>\n                        <p>{{ server.ip }}</p>\n                        <p :style=\"{ color: server.status === 'UP' ? 'green' : 'red' }\">{{server.status}}</p>\n                    </div> \n                </template>\n                \n                <template v-else v-slot:Tablelines>\n                    <div v-for=\"(server,index) in serversTemp\" :key=\"index\"  class=\"table-line table-lines\" :class=\" {  'table-line-dark' : index%2 !=0 , 'table-line-light' : !(index%2 !=0) }\">\n                        <p>{{ server.name }}</p>\n                        <p>{{ server.ip }}</p>\n                        <p :style=\"{ color: server.status === 'UP' ? 'green' : 'red' }\" >{{server.status}}</p>\n                    </div> \n                </template>\n            </tableComponentVue>\n            <rectListDetailsVue v-else>\n                <template v-if=\"(researchKeyFromQueryInput == null || researchKeyFromQueryInput == '')\" v-slot:rect-list  >\n                    <rectWithDetailsVue \n                    v-for=\"(server,index) in servers\" \n                    :key=\"index\" \n                    style=\"margin-bottom:10px;\"  \n                    :class=\" {  'table-line-dark' : index%2 !=0 }\"\n                    @opening-do-request=\"OnOpeningDoRequest(server)\" >\n                        <template v-slot:mainBar >\n                            <rectListVue>\n                                <template v-slot>\n                                    <h2>{{ server.name }}</h2>\n                                    <p style=\"color : gray;\">\n                                        <span>ip@</span>\n                                        <span>\n                                            <strong>\n                                                {{ server.ip }}\n                                            </strong>\n                                        </span>\n                                    </p>\n                                    <p style=\"color : gray;\">\n                                        <span>currently </span>\n                                        <span :style=\"{ color: server.status === 'UP' ? 'green' : 'red' }\">\n                                            <strong>\n                                                {{ server.status }}\n                                            </strong>\n                                        </span>\n                                    </p>\n                                </template>\n                            </rectListVue>\n                        </template>\n                        <template v-slot:details>\n                            <tableComponentVue>\n                                <template   v-slot:tableHead >\n                                        <p>NAME</p>\n                                        <p>ID</p>\n                                        <p>PORT</p>\n                                        <p>STATUS</p>\n                                </template>\n                                <template v-slot:Tablelines  >\n                                    <loadingBar v-if=\"server.containers.length == 0\" ></loadingBar>\n                                   <div style=\"width:100%;max-height:20vh;\">\n                                        <div \n                                        v-for=\"container,index in server.containers\" \n                                        :key=\"index\"\n                                        class=\"table-line table-lines\" :class=\" {  'table-line-dark' : index%2 !=0 , 'table-line-light' : !(index%2 !=0) }\"\n                                        style=\"display:grid; grid-template-columns: repeat(4,1fr);\">\n                                            <p>{{container[\"NAMES\"]}}</p>\n                                            <p>{{container[\"CONTAINER ID\"]}}</p>\n                                            <p>{{container[\"PORTS\"]}}</p>\n                                            <p>{{container[\"STATUS\"]}}</p>\n                                        </div>\n                                   </div>\n                                </template>\n                            </tableComponentVue>\n                        </template>\n                    </rectWithDetailsVue>\n                \n                </template>\n                <template v-else v-slot:rect-list>\n                    <rectWithDetailsVue \n                    v-for=\"(server,index) in serversTemp\" \n                    :key=\"index\" \n                    class=\"table-lines\" \n                    style=\"margin-bottom:10px;\"\n                    @opening-do-request=\"OnOpeningDoRequest(server)\"  >\n                        <template v-slot:mainBar >\n                            <rectListVue>\n                                <template v-slot>\n                                    <h2>{{ server.name }}</h2>\n                                    <p style=\"color : gray;\">\n                                        <span>ip@</span>\n                                        <span>\n                                            <strong>\n                                                {{ server.ip }}\n                                            </strong>\n                                        </span>\n                                    </p>\n                                    <p style=\"color : gray;\">\n                                        <span>currently </span>\n                                        <span :style=\"{ color: server.status == 'UP' ? 'green' : 'red' }\">\n                                            <strong>\n                                                {{ server.status }}\n                                            </strong>\n                                        </span>\n                                    </p>\n                                </template>\n                            </rectListVue>\n                        </template>\n                        <template v-slot:details>\n                            <tableComponentVue>\n                                <template   v-slot:tableHead >\n                                        <p>NAME</p>\n                                        <p>ID</p>\n                                        <p>PORT</p>\n                                        <p>STATUS</p>\n                                </template>\n                                <template v-slot:Tablelines  >\n                                    <loadingBar v-if=\"server.containers.length == 0\" ></loadingBar>\n                                   <div style=\"width:100%;max-height:20vh;\">\n                                        <div \n                                        v-for=\"container,index in server.containers\" \n                                        :key=\"index\"\n                                        class=\"table-line table-lines\" :class=\" {  'table-line-dark' : index%2 !=0 , 'table-line-light' : !(index%2 !=0) }\"\n                                        style=\"display:grid; grid-template-columns: repeat(4,1fr);\">\n                                            <p>{{container[\"NAMES\"]}}</p>\n                                            <p>{{container[\"CONTAINER ID\"]}}</p>\n                                            <p>{{container[\"PORTS\"]}}</p>\n                                            <p>{{container[\"STATUS\"]}}</p>\n                                        </div>\n                                   </div>\n                                </template>\n                            </tableComponentVue>\n                        </template>\n                    </rectWithDetailsVue>\n                \n                </template>\n            </rectListDetailsVue>\n        </div>\n        <div v-if=\"servers!=null && servers.length == 0\">\n            <p><strong>There is no server added yet.</strong></p>\n        </div>\n        <SquarLoading v-if=\"servers==null\" ></SquarLoading>\n    </div>    \n</template>\n<script>\nimport queryInputVue from '@/components/query-input.vue'\nimport tableComponentVue from '@/components/UI/table-query.vue'\nimport queryNbarVue from '@/components/UI/query-nbar.vue'\nimport rectListDetailsVue from '@/components/UI/query-component.vue'\nimport rectListVue from '@/components/UI/rect-list.vue'\nimport rectWithDetailsVue from '@/components/UI/rect-with-details.vue'\nimport loadingBar from \"@/components/Loadings/smallLoadingAnimation.vue\"\nimport SquarLoading from \"@/components/Loadings/bigLoadingAnimation.vue\"\nimport Servers from '@/store/models/servers'\nexport default{\n    data(){\n        return{\n        servers : null,\n        researchKeyFromQueryInput : null,\n        serversTemp : [],\n        minimise : true,\n        queryNotFound : false,\n        \n    }\n    },\n    components : {\n        queryNbarVue,\n        loadingBar,\n        tableComponentVue,\n        queryInputVue,\n        rectListDetailsVue,\n        SquarLoading,\n        rectListVue,\n        rectWithDetailsVue,\n    },\n    watch : {\n        researchKeyFromQueryInput(v){\n            v = v.trim().toUpperCase()\n            this.serversTemp = []\n            for(let server of this.servers){\n                if( server.name.toUpperCase().includes(v) || server.ip.toUpperCase().includes(v)){\n                        this.serversTemp.push(server);\n                }             \n            }\n            if(this.serversTemp.length == 0){\n                this.queryNotFound = true;\n            }else{\n                this.queryNotFound = false;\n            }\n        },\n        \"$route.query.UAT\" : function(){\n            this.servers = null;\n            this.loadServers()\n        },\n        \"$route.query.Prod\" : function(){\n            this.servers = null;\n            this.loadServers()\n        }\n    },\n    async beforeMount(){\n        if(this.$route.query.UAT){\n\n            await Servers.getUATservers()\n            .then((res)=>{\n                this.servers = res;\n            })\n        }\n    },\n    methods : {\n        async loadServers(){\n            if(this.$route.query.UAT){\n                await Servers.getUATservers()\n                .then((res)=>{\n                    this.servers = res;\n                })\n            }else{\n                await Servers.getPRODServers()\n                .then((res)=>{\n                    this.servers = res;\n                })               \n            }\n        },\n        async OnOpeningDoRequest(server){\n            server.containers = [];\n            await server.getContainers()\n        }\n    }\n}\n</script>\n<style scoped>\n\n\n.table-line{\n    display:grid;\n    grid-template-columns : 1fr 1fr 1fr;\n    place-items:center;\n    width:100%;\n    box-sizing:border-box;\n    padding :5px;\n    cursor:pointer;\n    transition:all 0.15s;\n}\n\n.table-lines:hover{\n    background-color: rgb(228, 228, 228);\n    cursor: pointer;\n}\n.table-line-dark{\n    background-color: rgb(241, 241, 241);\n}\n.table-line-light{\n    background-color: white;\n}\n.table-head{\n    padding : 8px;\n    font-size:16px;\n    font-weight: 600;\n    background-color: #A100FFFF;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    box-sizing: border-box;\n    color:white;\n    width:100%;\n    display: flex;\n    justify-content : space-around;\n\n    place-items:center;\n    /*height : 40px;*/\n}\n\n.holder-superivsion{\n    display : grid;\n    grid-template-rows: auto auto 1fr;\n\n    height: 100vh;\n    place-content: top;\n    gap:20px;\n    padding : 20px;\n    box-sizing: border-box;\n}\n.Welcomeback{\n    height: auto;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: start;\n    gap : 5px;\n    padding : 20px;\n\n    border-radius: 20px;\n\n    background-size: 100% 100%;\n    background-position: 0px 0px;\n    background-image: linear-gradient(86deg, #A100FFFF 0%, #71C4FFFF 100%);\n\n    color:white;\n}\n.listing{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-start;\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n}\n\n\n\n\n\n</style>"],"mappings":";AAqKA,OAAOA,aAAY,MAAO,8BAA6B;AACvD,OAAOC,iBAAgB,MAAO,iCAAgC;AAC9D,OAAOC,YAAW,MAAO,gCAA+B;AACxD,OAAOC,kBAAiB,MAAO,qCAAoC;AACnE,OAAOC,WAAU,MAAO,+BAA8B;AACtD,OAAOC,kBAAiB,MAAO,uCAAsC;AACrE,OAAOC,UAAS,MAAO,iDAAgD;AACvE,OAAOC,YAAW,MAAO,+CAA8C;AACvE,OAAOC,OAAM,MAAO,wBAAuB;AAC3C,eAAc;EACVC,IAAIA,CAAA,EAAE;IACF,OAAM;MACNC,OAAM,EAAI,IAAI;MACdC,yBAAwB,EAAI,IAAI;MAChCC,WAAU,EAAI,EAAE;MAChBC,QAAO,EAAI,IAAI;MACfC,aAAY,EAAI;IAEpB;EACA,CAAC;EACDC,UAAS,EAAI;IACTb,YAAY;IACZI,UAAU;IACVL,iBAAiB;IACjBD,aAAa;IACbG,kBAAkB;IAClBI,YAAY;IACZH,WAAW;IACXC;EACJ,CAAC;EACDW,KAAI,EAAI;IACJL,yBAAyBA,CAACM,CAAC,EAAC;MACxBA,CAAA,GAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;MACzB,IAAI,CAACP,WAAU,GAAI,EAAC;MACpB,KAAI,IAAIQ,MAAK,IAAK,IAAI,CAACV,OAAO,EAAC;QAC3B,IAAIU,MAAM,CAACC,IAAI,CAACF,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACL,CAAC,KAAKG,MAAM,CAACG,EAAE,CAACJ,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACL,CAAC,CAAC,EAAC;UACzE,IAAI,CAACL,WAAW,CAACY,IAAI,CAACJ,MAAM,CAAC;QACrC;MACJ;MACA,IAAG,IAAI,CAACR,WAAW,CAACa,MAAK,IAAK,CAAC,EAAC;QAC5B,IAAI,CAACX,aAAY,GAAI,IAAI;MAC7B,CAAC,MAAI;QACD,IAAI,CAACA,aAAY,GAAI,KAAK;MAC9B;IACJ,CAAC;IACD,kBAAiB,EAAI,SAAAY,CAAA,EAAU;MAC3B,IAAI,CAAChB,OAAM,GAAI,IAAI;MACnB,IAAI,CAACiB,WAAW,CAAC;IACrB,CAAC;IACD,mBAAkB,EAAI,SAAAC,CAAA,EAAU;MAC5B,IAAI,CAAClB,OAAM,GAAI,IAAI;MACnB,IAAI,CAACiB,WAAW,CAAC;IACrB;EACJ,CAAC;EACD,MAAME,WAAWA,CAAA,EAAE;IACf,IAAG,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,GAAG,EAAC;MAErB,MAAMxB,OAAO,CAACyB,aAAa,CAAC,EAC3BC,IAAI,CAAEC,GAAG,IAAG;QACT,IAAI,CAACzB,OAAM,GAAIyB,GAAG;MACtB,CAAC;IACL;EACJ,CAAC;EACDC,OAAM,EAAI;IACN,MAAMT,WAAWA,CAAA,EAAE;MACf,IAAG,IAAI,CAACG,MAAM,CAACC,KAAK,CAACC,GAAG,EAAC;QACrB,MAAMxB,OAAO,CAACyB,aAAa,CAAC,EAC3BC,IAAI,CAAEC,GAAG,IAAG;UACT,IAAI,CAACzB,OAAM,GAAIyB,GAAG;QACtB,CAAC;MACL,CAAC,MAAI;QACD,MAAM3B,OAAO,CAAC6B,cAAc,CAAC,EAC5BH,IAAI,CAAEC,GAAG,IAAG;UACT,IAAI,CAACzB,OAAM,GAAIyB,GAAG;QACtB,CAAC;MACL;IACJ,CAAC;IACD,MAAMG,kBAAkBA,CAAClB,MAAM,EAAC;MAC5BA,MAAM,CAACmB,UAAS,GAAI,EAAE;MACtB,MAAMnB,MAAM,CAACoB,aAAa,CAAC;IAC/B;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}