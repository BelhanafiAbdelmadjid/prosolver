{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, TransitionGroup as _TransitionGroup, mergeProps as _mergeProps, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4dcd8612\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0,\n  class: \"global-inputs\"\n};\nconst _hoisted_2 = [\"onUpdate:modelValue\"];\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"text\"\n}, \"Text\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"email\"\n}, \"Email\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"date\"\n}, \"Date\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"number\"\n}, \"Number\", -1 /* HOISTED */));\nconst _hoisted_7 = [_hoisted_3, _hoisted_4, _hoisted_5, _hoisted_6];\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M10 5H14C14 4.46957 13.7893 3.96086 13.4142 3.58579C13.0391 3.21071 12.5304 3 12 3C11.4696 3 10.9609 3.21071 10.5858 3.58579C10.2107 3.96086 10 4.46957 10 5ZM8.5 5C8.5 4.54037 8.59053 4.08525 8.76642 3.66061C8.94231 3.23597 9.20012 2.85013 9.52513 2.52513C9.85013 2.20012 10.236 1.94231 10.6606 1.76642C11.0852 1.59053 11.5404 1.5 12 1.5C12.4596 1.5 12.9148 1.59053 13.3394 1.76642C13.764 1.94231 14.1499 2.20012 14.4749 2.52513C14.7999 2.85013 15.0577 3.23597 15.2336 3.66061C15.4095 4.08525 15.5 4.54037 15.5 5H21.25C21.4489 5 21.6397 5.07902 21.7803 5.21967C21.921 5.36032 22 5.55109 22 5.75C22 5.94891 21.921 6.13968 21.7803 6.28033C21.6397 6.42098 21.4489 6.5 21.25 6.5H19.93L18.76 18.611C18.6703 19.539 18.238 20.4002 17.5477 21.0268C16.8573 21.6534 15.9583 22.0004 15.026 22H8.974C8.04186 22.0001 7.1431 21.653 6.45295 21.0265C5.7628 20.3999 5.33073 19.5388 5.241 18.611L4.07 6.5H2.75C2.55109 6.5 2.36032 6.42098 2.21967 6.28033C2.07902 6.13968 2 5.94891 2 5.75C2 5.55109 2.07902 5.36032 2.21967 5.21967C2.36032 5.07902 2.55109 5 2.75 5H8.5ZM10.5 9.75C10.5 9.55109 10.421 9.36032 10.2803 9.21967C10.1397 9.07902 9.94891 9 9.75 9C9.55109 9 9.36032 9.07902 9.21967 9.21967C9.07902 9.36032 9 9.55109 9 9.75V17.25C9 17.4489 9.07902 17.6397 9.21967 17.7803C9.36032 17.921 9.55109 18 9.75 18C9.94891 18 10.1397 17.921 10.2803 17.7803C10.421 17.6397 10.5 17.4489 10.5 17.25V9.75ZM14.25 9C14.0511 9 13.8603 9.07902 13.7197 9.21967C13.579 9.36032 13.5 9.55109 13.5 9.75V17.25C13.5 17.4489 13.579 17.6397 13.7197 17.7803C13.8603 17.921 14.0511 18 14.25 18C14.4489 18 14.6397 17.921 14.7803 17.7803C14.921 17.6397 15 17.4489 15 17.25V9.75C15 9.55109 14.921 9.36032 14.7803 9.21967C14.6397 9.07902 14.4489 9 14.25 9Z\",\n  fill: \"#E51D1D\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_10 = [_hoisted_9];\nconst _hoisted_11 = [\"onUpdate:modelValue\"];\nconst _hoisted_12 = {\n  key: 1\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"warning\"\n}, [/*#__PURE__*/_createElementVNode(\"svg\", {\n  width: \"20\",\n  height: \"20\",\n  viewBox: \"0 0 32 32\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M19.064 3.80903C17.732 1.39903 14.268 1.39903 12.936 3.80903L2.44302 22.808C1.15502 25.14 2.84302 28 5.50702 28H26.494C29.158 28 30.846 25.14 29.557 22.808L19.064 3.80903ZM17.25 22C17.25 22.3315 17.1183 22.6495 16.8839 22.8839C16.6495 23.1183 16.3315 23.25 16 23.25C15.6685 23.25 15.3506 23.1183 15.1161 22.8839C14.8817 22.6495 14.75 22.3315 14.75 22C14.75 21.6685 14.8817 21.3506 15.1161 21.1161C15.3506 20.8817 15.6685 20.75 16 20.75C16.3315 20.75 16.6495 20.8817 16.8839 21.1161C17.1183 21.3506 17.25 21.6685 17.25 22ZM16 9.00003C16.2652 9.00003 16.5196 9.10538 16.7071 9.29292C16.8947 9.48046 17 9.73481 17 10V18C17 18.2652 16.8947 18.5196 16.7071 18.7071C16.5196 18.8947 16.2652 19 16 19C15.7348 19 15.4805 18.8947 15.2929 18.7071C15.1054 18.5196 15 18.2652 15 18V10C15 9.73481 15.1054 9.48046 15.2929 9.29292C15.4805 9.10538 15.7348 9.00003 16 9.00003Z\",\n  fill: \"#FFD233\"\n})]), /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"warning-information\"\n}, \"Your have no global inputs added yet.\")], -1 /* HOISTED */));\nconst _hoisted_14 = [_hoisted_13];\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  width: \"20\",\n  height: \"20\",\n  viewBox: \"0 0 512 512\",\n  fill: \"none\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M384 224V408C384 413.253 382.965 418.454 380.955 423.307C378.945 428.16 375.999 432.57 372.284 436.284C368.57 439.999 364.16 442.945 359.307 444.955C354.454 446.965 349.253 448 344 448H104C93.3913 448 83.2172 443.786 75.7157 436.284C68.2143 428.783 64 418.609 64 408V168C64 157.391 68.2143 147.217 75.7157 139.716C83.2172 132.214 93.3913 128 104 128H271.48M336 64H448V176M224 288L440 72\",\n  stroke: \"#222222\",\n  \"stroke-width\": \"32\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\"\n})], -1 /* HOISTED */));\nconst _hoisted_16 = {\n  class: \"input-holder\",\n  style: {\n    \"display\": \"flex\",\n    \"flex-direction\": \"row\",\n    \"justify-content\": \"flex-start\",\n    \"align-items\": \"center\",\n    \"gap\": \"5px\"\n  }\n};\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"type\"\n}, \"Input type: \", -1 /* HOISTED */));\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"text\"\n}, \"Text\", -1 /* HOISTED */));\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"email\"\n}, \"Email\", -1 /* HOISTED */));\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"date\"\n}, \"Date\", -1 /* HOISTED */));\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"number\"\n}, \"Number\", -1 /* HOISTED */));\nconst _hoisted_22 = [_hoisted_18, _hoisted_19, _hoisted_20, _hoisted_21];\nconst _hoisted_23 = {\n  class: \"input-holder\",\n  style: {\n    \"display\": \"flex\",\n    \"flex-direction\": \"row\",\n    \"justify-content\": \"flex-start\",\n    \"align-items\": \"center\",\n    \"gap\": \"5px\"\n  }\n};\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"\"\n}, \"Input label\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_globalInputCard = _resolveComponent(\"globalInputCard\");\n  const _component_RouterLink = _resolveComponent(\"RouterLink\");\n  const _component_cardRoute = _resolveComponent(\"cardRoute\");\n  const _component_draggable = _resolveComponent(\"draggable\");\n  const _component_buttonValidation = _resolveComponent(\"buttonValidation\");\n  const _component_popupDisplay = _resolveComponent(\"popupDisplay\");\n  const _component_interractionLayout = _resolveComponent(\"interractionLayout\");\n  return _openBlock(), _createBlock(_component_interractionLayout, {\n    forbiddenSteps: false,\n    forbiddenInputs: false\n  }, {\n    IncidentViewTitel: _withCtx(() => [_createTextVNode(_toDisplayString($data.incident.name), 1 /* TEXT */)]),\n    InputName: _withCtx(() => [_withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      placeholder: \"Incident name...\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.incident.name = $event)\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.incident.name]])]),\n    InputDescription: _withCtx(() => [_withDirectives(_createElementVNode(\"textarea\", {\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.incident.description = $event),\n      maxlength: \"150\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.incident.description]])]),\n    InputAddButton: _withCtx(() => [_createElementVNode(\"label\", {\n      onClick: _cache[2] || (_cache[2] = $event => $options.addInput()),\n      style: {\n        \"cursor\": \"pointer\"\n      }\n    }, \"Add+\")]),\n    GlobalInputListing: _withCtx(() => [$data.incident.inputs.length != 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.incident.inputs, (globalInput, index) => {\n      return _openBlock(), _createBlock(_component_globalInputCard, {\n        key: index\n      }, {\n        inputs: _withCtx(() => [_withDirectives(_createElementVNode(\"select\", {\n          \"onUpdate:modelValue\": $event => globalInput.type = $event\n        }, [..._hoisted_7], 8 /* PROPS */, _hoisted_2), [[_vModelSelect, globalInput.type]]), (_openBlock(), _createElementBlock(\"svg\", {\n          onClick: $event => $data.incident.inputs.splice(index, 1),\n          width: \"20\",\n          height: \"20\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, [..._hoisted_10], 8 /* PROPS */, _hoisted_8)), _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          placeholder: \"Input label...\",\n          \"onUpdate:modelValue\": $event => globalInput.label = $event\n        }, null, 8 /* PROPS */, _hoisted_11), [[_vModelText, globalInput.label]])]),\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */);\n    }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [..._hoisted_14]))]),\n    Steps: _withCtx(() => [_createVNode(_component_draggable, _mergeProps({\n      class: \"list-group\",\n      modelValue: $data.incident.steps,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.incident.steps = $event)\n    }, _ctx.dragOptions, {\n      onStart: _cache[4] || (_cache[4] = $event => _ctx.drag = true),\n      onEnd: _cache[5] || (_cache[5] = $event => _ctx.drag = false)\n    }), {\n      default: _withCtx(() => [_createVNode(_TransitionGroup, {\n        type: \"transition\",\n        name: !_ctx.drag ? 'flip-list' : null\n      }, {\n        default: _withCtx(() => [_createVNode(_component_cardRoute, {\n          style: {\n            \"width\": \"100%\",\n            \"height\": \"fit-content\"\n          }\n        }, {\n          Titre: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.step.name), 1 /* TEXT */)]),\n          icon: _withCtx(() => [_createVNode(_component_RouterLink, {\n            to: {\n              name: '',\n              params: {\n                id: 5\n              }\n            }\n          }, {\n            default: _withCtx(() => [_hoisted_15]),\n            _: 1 /* STABLE */\n          })]),\n          Description: _withCtx(() => [_createTextVNode(_toDisplayString('Executing ' + _ctx.step.script.name + ' on ' + (_ctx.step.onServer == true ? _ctx.step.server.name : _ctx.step.container.name + ' container of ' + _ctx.step.server.name)), 1 /* TEXT */)]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"name\"])]),\n      _: 1 /* STABLE */\n    }, 16 /* FULL_PROPS */, [\"modelValue\"])]),\n    Footer: _withCtx(() => [_createVNode(_component_buttonValidation, {\n      ok: true,\n      onClick: _cache[6] || (_cache[6] = $event => $options.updateIncident()),\n      type: 'Submit'\n    }, {\n      textButton: _withCtx(() => [_createTextVNode(\" Save changes \")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_buttonValidation, {\n      danger: true,\n      onClick: _cache[7] || (_cache[7] = $event => _ctx.$router.back()),\n      type: 'Submit'\n    }, {\n      textButton: _withCtx(() => [_createTextVNode(\" Cancel \")]),\n      _: 1 /* STABLE */\n    })]),\n    popUps: _withCtx(() => [$data.popUpBoolean ? (_openBlock(), _createBlock(_component_popupDisplay, {\n      key: 0,\n      onClosePopup: _cache[10] || (_cache[10] = $event => {\n        $data.popUpBoolean = false;\n      })\n    }, {\n      titel: _withCtx(() => [_createTextVNode(\"New global input\")]),\n      content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _withDirectives(_createElementVNode(\"select\", {\n        name: \"type\",\n        \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.inputPopUP.type = $event)\n      }, [..._hoisted_22], 512 /* NEED_PATCH */), [[_vModelSelect, $data.inputPopUP.type]])]), _createElementVNode(\"div\", _hoisted_23, [_hoisted_24, _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        placeholder: \"Input label...\",\n        \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.inputPopUP.label = $event)\n      }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.inputPopUP.label]])]), _createVNode(_component_buttonValidation, {\n        ok: true,\n        onClick: $options.pushInput,\n        style: {\n          \"padding\": \"2px\",\n          \"width\": \"50%\",\n          \"align-self\": \"flex-end\"\n        }\n      }, {\n        textButton: _withCtx(() => [_createTextVNode(\" Add \")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["key","class","_createElementVNode","value","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","d","fill","_hoisted_9","width","height","viewBox","xmlns","_hoisted_13","stroke","style","for","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_createBlock","_component_interractionLayout","forbiddenSteps","forbiddenInputs","IncidentViewTitel","_withCtx","_createTextVNode","_toDisplayString","$data","incident","name","InputName","type","placeholder","_cache","$event","InputDescription","description","maxlength","InputAddButton","onClick","$options","addInput","GlobalInputListing","inputs","length","_createElementBlock","_hoisted_1","_Fragment","_renderList","globalInput","index","_component_globalInputCard","_hoisted_7","_hoisted_2","splice","_hoisted_10","_hoisted_8","label","_hoisted_11","_","_hoisted_12","_hoisted_14","Steps","_createVNode","_component_draggable","_mergeProps","modelValue","steps","_ctx","dragOptions","onStart","drag","onEnd","default","_TransitionGroup","_component_cardRoute","Titre","step","icon","_component_RouterLink","to","params","id","_hoisted_15","Description","script","onServer","server","container","Footer","_component_buttonValidation","ok","updateIncident","textButton","danger","$router","back","popUps","popUpBoolean","_component_popupDisplay","onClosePopup","titel","content","_hoisted_16","_hoisted_17","inputPopUP","_hoisted_22","_hoisted_23","_hoisted_24","pushInput","_createCommentVNode"],"sources":["/Users/abdelmadjidbelhanafi/Documents/vsc project/Natixis/new-banxy-rest-api/frontend/src/views/incidents/edit.vue"],"sourcesContent":["<template>\n    <interractionLayout :forbiddenSteps=\"false\" :forbiddenInputs=\"false\">\n        <template #IncidentViewTitel>\n            {{ incident.name }}\n        </template>\n        <template #InputName>\n            <input type=\"text\" placeholder=\"Incident name...\" v-model=\"incident.name\">\n        </template>\n        <template #InputDescription>\n            <textarea v-model=\"incident.description\" maxlength=\"150\"></textarea>\n        </template>\n        <template #InputAddButton>\n            <label @click=\"addInput()\" style=\"cursor: pointer;\">Add+</label>\n        </template>\n        <template #GlobalInputListing>\n            <div v-if=\"incident.inputs.length != 0\" class=\"global-inputs\">\n                <globalInputCard v-for=\"globalInput, index in incident.inputs\" :key=\"index\">\n                    <template #inputs>\n                        <select v-model=\"globalInput.type\">\n                            <option value=\"text\">Text</option>\n                            <option value=\"email\">Email</option>\n                            <option value=\"date\">Date</option>\n                            <option value=\"number\">Number</option>\n                        </select>\n                        <svg @click=\"incident.inputs.splice(index, 1)\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"\n                            fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path\n                                d=\"M10 5H14C14 4.46957 13.7893 3.96086 13.4142 3.58579C13.0391 3.21071 12.5304 3 12 3C11.4696 3 10.9609 3.21071 10.5858 3.58579C10.2107 3.96086 10 4.46957 10 5ZM8.5 5C8.5 4.54037 8.59053 4.08525 8.76642 3.66061C8.94231 3.23597 9.20012 2.85013 9.52513 2.52513C9.85013 2.20012 10.236 1.94231 10.6606 1.76642C11.0852 1.59053 11.5404 1.5 12 1.5C12.4596 1.5 12.9148 1.59053 13.3394 1.76642C13.764 1.94231 14.1499 2.20012 14.4749 2.52513C14.7999 2.85013 15.0577 3.23597 15.2336 3.66061C15.4095 4.08525 15.5 4.54037 15.5 5H21.25C21.4489 5 21.6397 5.07902 21.7803 5.21967C21.921 5.36032 22 5.55109 22 5.75C22 5.94891 21.921 6.13968 21.7803 6.28033C21.6397 6.42098 21.4489 6.5 21.25 6.5H19.93L18.76 18.611C18.6703 19.539 18.238 20.4002 17.5477 21.0268C16.8573 21.6534 15.9583 22.0004 15.026 22H8.974C8.04186 22.0001 7.1431 21.653 6.45295 21.0265C5.7628 20.3999 5.33073 19.5388 5.241 18.611L4.07 6.5H2.75C2.55109 6.5 2.36032 6.42098 2.21967 6.28033C2.07902 6.13968 2 5.94891 2 5.75C2 5.55109 2.07902 5.36032 2.21967 5.21967C2.36032 5.07902 2.55109 5 2.75 5H8.5ZM10.5 9.75C10.5 9.55109 10.421 9.36032 10.2803 9.21967C10.1397 9.07902 9.94891 9 9.75 9C9.55109 9 9.36032 9.07902 9.21967 9.21967C9.07902 9.36032 9 9.55109 9 9.75V17.25C9 17.4489 9.07902 17.6397 9.21967 17.7803C9.36032 17.921 9.55109 18 9.75 18C9.94891 18 10.1397 17.921 10.2803 17.7803C10.421 17.6397 10.5 17.4489 10.5 17.25V9.75ZM14.25 9C14.0511 9 13.8603 9.07902 13.7197 9.21967C13.579 9.36032 13.5 9.55109 13.5 9.75V17.25C13.5 17.4489 13.579 17.6397 13.7197 17.7803C13.8603 17.921 14.0511 18 14.25 18C14.4489 18 14.6397 17.921 14.7803 17.7803C14.921 17.6397 15 17.4489 15 17.25V9.75C15 9.55109 14.921 9.36032 14.7803 9.21967C14.6397 9.07902 14.4489 9 14.25 9Z\"\n                                fill=\"#E51D1D\" />\n                        </svg>\n                        <input type=\"text\" placeholder=\"Input label...\" v-model=\"globalInput.label\">\n                    </template>\n                </globalInputCard>\n\n            </div>\n            <div v-else>\n                <div class=\"warning\">\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path\n                            d=\"M19.064 3.80903C17.732 1.39903 14.268 1.39903 12.936 3.80903L2.44302 22.808C1.15502 25.14 2.84302 28 5.50702 28H26.494C29.158 28 30.846 25.14 29.557 22.808L19.064 3.80903ZM17.25 22C17.25 22.3315 17.1183 22.6495 16.8839 22.8839C16.6495 23.1183 16.3315 23.25 16 23.25C15.6685 23.25 15.3506 23.1183 15.1161 22.8839C14.8817 22.6495 14.75 22.3315 14.75 22C14.75 21.6685 14.8817 21.3506 15.1161 21.1161C15.3506 20.8817 15.6685 20.75 16 20.75C16.3315 20.75 16.6495 20.8817 16.8839 21.1161C17.1183 21.3506 17.25 21.6685 17.25 22ZM16 9.00003C16.2652 9.00003 16.5196 9.10538 16.7071 9.29292C16.8947 9.48046 17 9.73481 17 10V18C17 18.2652 16.8947 18.5196 16.7071 18.7071C16.5196 18.8947 16.2652 19 16 19C15.7348 19 15.4805 18.8947 15.2929 18.7071C15.1054 18.5196 15 18.2652 15 18V10C15 9.73481 15.1054 9.48046 15.2929 9.29292C15.4805 9.10538 15.7348 9.00003 16 9.00003Z\"\n                            fill=\"#FFD233\" />\n                    </svg>\n                    <p class=\"warning-information\">Your have no global inputs added yet.</p>\n                </div>\n            </div>\n        </template>\n        <template #Steps>\n            <draggable class=\"list-group\" v-model=\"incident.steps\" v-bind=\"dragOptions\" @start=\"drag = true\"\n                @end=\"drag = false\">\n                <transition-group type=\"transition\" :name=\"!drag ? 'flip-list' : null\">\n                    <cardRoute style=\"width: 100%;height: fit-content;\">\n                        <template #Titre>\n                            {{ step.name }}\n                        </template>\n                        <template #icon>\n                            <RouterLink :to=\"{ name: '', params: { id: 5 } }\">\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 512 512\" fill=\"none\">\n                                    <path\n                                        d=\"M384 224V408C384 413.253 382.965 418.454 380.955 423.307C378.945 428.16 375.999 432.57 372.284 436.284C368.57 439.999 364.16 442.945 359.307 444.955C354.454 446.965 349.253 448 344 448H104C93.3913 448 83.2172 443.786 75.7157 436.284C68.2143 428.783 64 418.609 64 408V168C64 157.391 68.2143 147.217 75.7157 139.716C83.2172 132.214 93.3913 128 104 128H271.48M336 64H448V176M224 288L440 72\"\n                                        stroke=\"#222222\" stroke-width=\"32\" stroke-linecap=\"round\"\n                                        stroke-linejoin=\"round\" />\n                                </svg>\n                            </RouterLink>\n\n                        </template>\n                        <template #Description>\n                            {{ 'Executing ' + step.script.name + ' on ' + (step.onServer == true ? step.server.name :\n                                step.container.name + ' container of ' + step.server.name ) }}\n                        </template>\n                    </cardRoute>\n                </transition-group>\n            </draggable>\n\n        </template>\n        <template #Footer>\n            <buttonValidation :ok=\"true\" @click=\"updateIncident()\" :type=\"'Submit'\">\n                <template #textButton>\n                    Save changes\n                </template>\n            </buttonValidation>\n\n            <buttonValidation :danger=\"true\" @click=\"$router.back()\" :type=\"'Submit'\">\n                <template #textButton>\n                    Cancel\n                </template>\n            </buttonValidation>\n\n        </template>\n        <template #popUps>\n            <popupDisplay v-if=\"popUpBoolean\" @close-popup=\"popUpBoolean = false;\">\n                <template #titel>New global input</template>\n                <template #content>\n                    <div class=\"input-holder\"\n                        style=\"display: flex;flex-direction: row;justify-content: flex-start;align-items :center; gap:5px;\">\n                        <label for=\"type\">Input type: </label>\n                        <select name=\"type\" v-model=\"inputPopUP.type\">\n                            <option value=\"text\">Text</option>\n                            <option value=\"email\">Email</option>\n                            <option value=\"date\">Date</option>\n                            <option value=\"number\">Number</option>\n                        </select>\n                    </div>\n                    <div class=\"input-holder\"\n                        style=\"display: flex;flex-direction: row;justify-content: flex-start;align-items :center; gap:5px;\">\n                        <label for=\"\">Input label</label>\n                        <input type=\"text\" placeholder=\"Input label...\" v-model=\"inputPopUP.label\">\n                    </div>\n                    <buttonValidation :ok=\"true\" @click=\"pushInput\"\n                        style=\" padding: 2px;width: 50%;align-self: flex-end;\">\n                        <template #textButton>\n                            Add\n                        </template>\n                    </buttonValidation>\n                </template>\n            </popupDisplay>\n        </template>\n    </interractionLayout>\n\n\n\n\n</template>\n<script>\nimport apiFetch from \"@/common/api.service\"\n\nimport draggable from \"vuedraggable\"\n\nimport interractionLayout from \"./interraction-layout.vue\"\n\nimport buttonValidation from \"@/components/interraction/buttons/validation-button.vue\"\nimport popupDisplay from \"@/components/interraction/popups/popup-display.vue\"\nimport globalInputCard from \"@/components/interraction/cards/inputs-card.vue\"\nimport cardRoute from \"@/components/interraction/cards/card-route.vue\"\n\nexport default{\n    name : 'create-incident',\n    data(){\n        return {\n            incident : {\n                name : '' ,\n                description  : \"\",\n                inputs : [],\n                steps : [],\n            },\n            oldIncident : {\n                name : '' ,\n                description  : \"\",\n                inputs : [],\n                steps : [],\n            },\n            popUpBoolean : false,\n            inputPopUP :  {\n                    label : \"\",\n                    type : \"\",\n                    id : null\n                }\n\n        }\n    },\n    components : {\n        buttonValidation,\n        interractionLayout,\n        globalInputCard,\n        cardRoute,\n        popupDisplay,\n        draggable\n    },\n    methods : {\n        updateIncident() {\n            this.keepUpdatedValue(this.oldIncident,this.incident,[\"id\",\"steps\",\"inputs\"])\n            console.log(\"updateing with\", this.incident)\n            let endpoint = '/incident/update'\n            apiFetch.update(endpoint, { ...this.incident }, true, false)\n                .then(() => {\n                    this.$router.push({ name: 'incidentShow', params: { id: this.incident.id } })\n                })\n        },\n        keepUpdatedValue(oldObject, newObject, dontCheck) {\n            for (const prop of Object.getOwnPropertyNames(oldObject)) {\n                if (oldObject[prop] == newObject[prop] && !(dontCheck.includes(prop))) {\n                    newObject[prop] = null;\n                }\n            }\n        },\n        restoreNonModifiedValues(oldObject, newObject) {\n            for (const prop of Object.getOwnPropertyNames(oldObject)) {\n                if (newObject[prop] == null) {\n                    newObject[prop] = oldObject[prop];\n                }\n            }\n        },\n        addInput(){\n            this.inputPopUP =  {\n                    label : \"\",\n                    type : \"\",\n                    id : null\n                }\n            this.popUpBoolean = true;\n        },\n        pushInput(){\n            if(this.inputPopUP.label == \"\" || this.inputPopUP.type == \"\"  ){\n                this.emitter.emit(\"sidebar-error\",{\n                    error : true , description : 'Please fill the required field.'\n                })\n                return ;\n            }\n            this.incident.inputs.push({...this.inputPopUP});\n            this.popUpBoolean = false;\n        },\n    },\n    watch: {\n  \n    },\n    beforeMount(){\n        if(this.$route.query.name){\n            this.incident.name = this.$route.query.name\n        }\n        if(this.$route.query.description){\n            this.incident.description = this.$route.query.description\n        }\n\n\n        //getting the incident\n        let endpoint = \"/incident/\" + this.$route.params.id;\n        apiFetch.get(endpoint,false)\n        .then((incident)=>{\n            this.incident = incident;\n            this.oldIncident =Object.assign({}, this.incident); \n\n            console.log(\"old incident\",this.oldIncident)\n        })\n\n    }\n}\n</script>\n<style scoped>\n.warning{\n    width: 100%;\n    border-radius: var( --extra-small-border-radius);\n\n    display: flex;\n    justify-content: flex-start;\n\n    padding: var(--small-padding);\n    box-sizing: border-box;\n\n    gap: 5px;\n\n    background-color: white;\n}\n\n.global-input input {\n    width: 100%;\n    grid-column : 1/3;\n}\n\n.add-option{\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n\n.input-name {\n    width: 50%;\n}\n.input-name input{\n    width: 75%;\n}\n\n\n.global-inputs{\n    min-height: 50px;\n\n    width: 100%;\n    max-height: 100%;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n\n    gap: 10px;\n\n    overflow-x: auto;\n}\n\n\n@media only screen and (max-width: 725px) {\n    .input-name{\n        width: 100%;\n    }\n\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}