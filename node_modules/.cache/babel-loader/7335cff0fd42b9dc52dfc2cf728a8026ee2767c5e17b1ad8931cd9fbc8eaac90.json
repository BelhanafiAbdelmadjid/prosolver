{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelDynamic as _vModelDynamic, withDirectives as _withDirectives, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-f397d1c6\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"holders execution-holder\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"header colorfull-gradient-1\"\n}, \" Executing incident \", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  style: {\n    \"box-sizing\": \"border-box\",\n    \"padding\": \"10px\",\n    \"background-color\": \"rgb(240, 240, 240)\",\n    \"border-radius\": \"10px\",\n    \"display\": \"grid\",\n    \"grid-template-rows\": \"auto\",\n    \"gap\": \"10px\"\n  }\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Global inputs \")], -1 /* HOISTED */));\nconst _hoisted_5 = [\"placeholder\", \"type\", \"onUpdate:modelValue\"];\nconst _hoisted_6 = {\n  class: \"steps\"\n};\nconst _hoisted_7 = {\n  class: \"interaction\"\n};\nconst _hoisted_8 = [\"onSubmit\"];\nconst _hoisted_9 = {\n  class: \"inputs\"\n};\nconst _hoisted_10 = [\"placeholder\", \"type\", \"onUpdate:modelValue\"];\nconst _hoisted_11 = [\"placeholder\", \"type\", \"onUpdate:modelValue\"];\nconst _hoisted_12 = {\n  class: \"parameters\"\n};\nconst _hoisted_13 = {\n  style: {\n    \"color\": \"rgb(241, 241, 241)\"\n  }\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Executing \", -1 /* HOISTED */));\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \" with \", -1 /* HOISTED */));\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \", on \", -1 /* HOISTED */));\nconst _hoisted_17 = {\n  key: 0\n};\nconst _hoisted_18 = {\n  class: \"action\"\n};\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"secondary-btn\"\n}, \"Reset\", -1 /* HOISTED */));\nconst _hoisted_20 = {\n  style: {\n    \"display\": \"flex\",\n    \"position\": \"relative\",\n    \"border-radius\": \"5px\",\n    \"overflow\": \"hidden\"\n  }\n};\nconst _hoisted_21 = {\n  key: 0,\n  style: {\n    \"position\": \"absolute\",\n    \"width\": \"100%\",\n    \"height\": \"100%\",\n    \"top\": \"0\",\n    \"left\": \"0\",\n    \"opacity\": \"0.65\",\n    \"background-color\": \"rgb(221, 221, 221)\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_inputPrimary = _resolveComponent(\"inputPrimary\");\n  const _component_primaryButton = _resolveComponent(\"primaryButton\");\n  const _component_shell = _resolveComponent(\"shell\");\n  const _component_lineComponent = _resolveComponent(\"lineComponent\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.incident.inputs, (npt, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"input-holders\",\n      style: {\n        \"padding\": \"0px\",\n        \"display\": \"flex\",\n        \"flex-direction\": \"row\",\n        \"justify-content\": \"flex-start\",\n        \"align-items\": \"center\",\n        \"gap\": \"5px\"\n      },\n      key: index\n    }, [_createElementVNode(\"label\", null, _toDisplayString(npt.label), 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n      placeholder: npt.label,\n      type: npt.type,\n      \"onUpdate:modelValue\": $event => npt.value = $event,\n      required: \"\"\n    }, null, 8 /* PROPS */, _hoisted_5), [[_vModelDynamic, npt.value]])]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.incident.steps, step => {\n    return _openBlock(), _createBlock(_component_lineComponent, {\n      key: step.id,\n      onLoadStep: _ctx.onLoadStep,\n      open: _ctx.openBooleans[step.id],\n      id: step.id\n    }, {\n      title: _withCtx(() => [_createTextVNode(\"Step \" + _toDisplayString(' ' + step.order + ': ') + \" \" + _toDisplayString(step.name), 1 /* TEXT */)]),\n      content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"form\", {\n        onSubmit: _withModifiers($event => _ctx.ExecuteStep(step), [\"prevent\"])\n      }, [_createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(step.inputs, (npt, index) => {\n        return _openBlock(), _createBlock(_component_inputPrimary, {\n          key: index\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"label\", null, _toDisplayString(npt.label), 1 /* TEXT */), !npt.fromIncident ? _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n            key: 0,\n            placeholder: npt.label,\n            type: npt.type,\n            \"onUpdate:modelValue\": $event => npt.value = $event,\n            required: \"\"\n          }, null, 8 /* PROPS */, _hoisted_10)), [[_vModelDynamic, npt.value]]) : _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n            key: 1,\n            placeholder: npt.label,\n            type: npt.type,\n            \"onUpdate:modelValue\": $event => _ctx.lookForGlobalInput(npt).value = $event,\n            disabled: \"\"\n          }, null, 8 /* PROPS */, _hoisted_11)), [[_vModelDynamic, _ctx.lookForGlobalInput(npt).value]])]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */);\n      }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"p\", _hoisted_13, [_hoisted_14, _createElementVNode(\"span\", null, [_createElementVNode(\"strong\", null, _toDisplayString(step.script.name), 1 /* TEXT */), _hoisted_15, _createElementVNode(\"strong\", null, _toDisplayString(step.command), 1 /* TEXT */)]), _hoisted_16, step.container != null ? (_openBlock(), _createElementBlock(\"span\", _hoisted_17, [_createElementVNode(\"strong\", null, _toDisplayString(step.container.name), 1 /* TEXT */), _createTextVNode(\" container of \")])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"span\", null, [_createElementVNode(\"strong\", null, _toDisplayString(step.server.name), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_18, [_hoisted_19, _createElementVNode(\"div\", _hoisted_20, [!_ctx.notWaitingForOutPut ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21)) : _createCommentVNode(\"v-if\", true), _createVNode(_component_primaryButton, null, {\n        default: _withCtx(() => [_createTextVNode(\"Execute\")]),\n        _: 1 /* STABLE */\n      })])])])], 40 /* PROPS, NEED_HYDRATION */, _hoisted_8), _createVNode(_component_shell, {\n        onExecuteStep: _ctx.ExecuteStep,\n        onClearLines: _ctx.onClearLines,\n        onPushNewLine: _ctx.onPushNewLine,\n        id: step.id,\n        shellBlockLines: step.shell,\n        user: _ctx.AuthStore.userLogged.username,\n        ip: step.server.ip,\n        notWaitingForOutPut: _ctx.notWaitingForOutPut\n      }, null, 8 /* PROPS */, [\"onExecuteStep\", \"onClearLines\", \"onPushNewLine\", \"id\", \"shellBlockLines\", \"user\", \"ip\", \"notWaitingForOutPut\"])])]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onLoadStep\", \"open\", \"id\"]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","$data","incident","inputs","npt","index","_toDisplayString","label","placeholder","type","$event","value","required","_hoisted_5","_hoisted_6","steps","step","_createBlock","_component_lineComponent","id","onLoadStep","_ctx","open","openBooleans","title","_withCtx","_createTextVNode","order","name","content","_hoisted_7","onSubmit","_withModifiers","ExecuteStep","_hoisted_9","_component_inputPrimary","default","fromIncident","_hoisted_10","lookForGlobalInput","disabled","_hoisted_11","_","_hoisted_12","_hoisted_13","_hoisted_14","script","_hoisted_15","command","_hoisted_16","container","_hoisted_17","_createCommentVNode","server","_hoisted_18","_hoisted_19","_hoisted_20","notWaitingForOutPut","_hoisted_21","_createVNode","_component_primaryButton","_hoisted_8","_component_shell","onExecuteStep","onClearLines","onPushNewLine","shellBlockLines","shell","user","AuthStore","userLogged","username","ip"],"sources":["/Users/abdelmadjidbelhanafi/Documents/vsc project/Natixis/new-banxy-rest-api/frontend/src/views/incidents/execute.vue"],"sourcesContent":["<template>\n    <div class=\"holders execution-holder\">\n        <div class=\"header colorfull-gradient-1\">\n            Executing incident\n        </div>\n        <div\n            style=\"box-sizing:border-box; padding: 10px; background-color:rgb(240, 240, 240); border-radius: 10px; display:grid;grid-template-rows:auto; gap:10px;\">\n            <p>\n                <strong>Global inputs </strong>\n            </p>\n            <div class=\"input-holders\"\n                style=\"padding:0px;display: flex;flex-direction: row;justify-content: flex-start;align-items :center; gap:5px;\"\n                v-for=\"npt,index in incident.inputs\" :key=\"index\">\n                <label>{{ npt.label }}</label>\n                <input :placeholder=\"npt.label\" :type=\"npt.type\" v-model=\"npt.value\" required>\n            </div>\n        </div>\n        <div class=\"steps\">\n            <lineComponent v-for=\"step in incident.steps\" :key=\"step.id\" @load-step=\"onLoadStep\"\n                :open=\"openBooleans[step.id]\" :id=\"step.id\">\n                <template v-slot:title>Step {{ ' ' + step.order + ': ' }} {{ step.name }}</template>\n                <template v-slot:content>\n                    <div class=\"interaction\">\n                        <form @submit.prevent=\"ExecuteStep(step)\">\n                            <div class=\"inputs\">\n                                <inputPrimary v-for=\"npt, index in step.inputs\" :key=\"index\">\n                                    <label>{{ npt.label }}</label>\n                                    <input v-if=\"!npt.fromIncident\" :placeholder=\"npt.label\" :type=\"npt.type\"\n                                        v-model=\"npt.value\" required>\n                                    <input v-else :placeholder=\"npt.label\" :type=\"npt.type\"\n                                        v-model=\"lookForGlobalInput(npt).value\" disabled>\n                                </inputPrimary>\n\n                            </div>\n                            <div class=\"parameters\">\n                                <p style=\"color:rgb(241, 241, 241); \">\n                                    <span>Executing </span>\n                                    <span>\n                                        <strong>{{ step.script.name }}</strong>\n                                        <p> with </p>\n                                        <strong>{{ step.command }}</strong>\n                                    </span>\n                                    <span>, on </span>\n                                    <span v-if=\"step.container != null\">\n                                        <strong>\n                                            {{ step.container.name }}\n                                        </strong>\n                                        container of\n                                    </span>\n                                    <span><strong>{{ step.server.name }}</strong></span>\n                                </p>\n                                <div class=\"action\">\n                                    <button class=\"secondary-btn\">Reset</button>\n                                    <div style=\"display: flex;position : relative;border-radius: 5px;overflow: hidden;\">\n                                        <div v-if=\"!notWaitingForOutPut\"\n                                            style=\"position : absolute;width:100%;height:100%;top:0;left:0;opacity: 0.65; background-color: rgb(221, 221, 221);\">\n\n                                        </div>\n                                        <primaryButton>Execute</primaryButton>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                        <shell @execute-step=\"ExecuteStep\" @clear-lines=\"onClearLines\" @push-new-line=\"onPushNewLine\"\n                            :id=\"step.id\" :shellBlockLines=\"step.shell\" :user=\"AuthStore.userLogged.username\"\n                            :ip=\"step.server.ip\" :notWaitingForOutPut=\"notWaitingForOutPut\">\n                        </shell>\n                    </div>\n                </template>\n            </lineComponent>\n        </div>\n    </div>\n</template>\n\n<script>\nimport apiFetch from \"@/common/api.service.js\"\nexport default{\n    name : 'incident-execute',\n    data(){\n        return {\n            incident: {\n\n            }\n        }\n    },\n    components : {\n        lineComponent\n    },\n    beforeMount(){\n        let endpoint = \"/incident/\"+ this.$route.params.id ;\n        apiFetch.get(endpoint,true,false)\n        .then((incident)=>{\n            this.incident = incident;\n        })\n    }\n}\n</script>\n<style scoped>\n.execution-holder{\n    width: 100%;\n    height: 100%;\n\n    display: grid;\n    grid-template-rows: auto auto 1fr;\n}\n.execution-holder .header{\n    padding: 10px;\n    box-sizing: border-box;\n\n    font-size: 24px;\n    font-weight: 700;\n\n    color :white;\n}\n.execution-holder .steps{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-start;\n\n    gap: 5px;\n\n    overflow-y: auto;\n}\n</style>"],"mappings":";;;EACSA,KAAK,EAAC;AAA0B;gEACjCC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAA6B,GAAC,sBAEzC;;EAEIE,KAAuJ,EAAvJ;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;EAAA;AAAuJ;gEACvJD,mBAAA,CAEI,Y,aADAA,mBAAA,CAA+B,gBAAvB,gBAAc,E;mBARtC;;EAiBaD,KAAK,EAAC;AAAO;;EAKDA,KAAK,EAAC;AAAa;mBAtB5C;;EAwBiCA,KAAK,EAAC;AAAQ;oBAxB/C;oBAAA;;EAkCiCA,KAAK,EAAC;AAAY;;EAChBE,KAAkC,EAAlC;IAAA;EAAA;AAAkC;iEACjCD,mBAAA,CAAuB,cAAjB,YAAU;iEAGZA,mBAAA,CAAa,WAAV,QAAM;iEAGbA,mBAAA,CAAkB,cAAZ,OAAK;;EA1C/CE,GAAA;AAAA;;EAmDqCH,KAAK,EAAC;AAAQ;iEACfC,mBAAA,CAA4C;EAApCD,KAAK,EAAC;AAAe,GAAC,OAAK;;EAC9BE,KAA8E,EAA9E;IAAA;IAAA;IAAA;IAAA;EAAA;AAA8E;;EArDvHC,GAAA;EAuD4CD,KAAoH,EAApH;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;EAAA;;;;;;;uBAtDxCE,mBAAA,CAsEM,OAtENC,UAsEM,GArEFC,UAEM,EACNL,mBAAA,CAWM,OAXNM,UAWM,GATFC,UAEI,G,kBACJJ,mBAAA,CAKMK,SAAA,QAflBC,WAAA,CAYoCC,KAAA,CAAAC,QAAQ,CAACC,MAAM,EAZnD,CAYuBC,GAAG,EAACC,KAAK;yBAFpBX,mBAAA,CAKM;MALDJ,KAAK,EAAC,eAAe;MACtBE,KAA+G,EAA/G;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;MAAA,CAA+G;MACzEC,GAAG,EAAEY;QAC3Cd,mBAAA,CAA8B,eAAAe,gBAAA,CAApBF,GAAG,CAACG,KAAK,kB,gBACnBhB,mBAAA,CAA8E;MAAtEiB,WAAW,EAAEJ,GAAG,CAACG,KAAK;MAAGE,IAAI,EAAEL,GAAG,CAACK,IAAI;MAd/D,uBAAAC,MAAA,IAc0EN,GAAG,CAACO,KAAK,GAAAD,MAAA;MAAEE,QAAQ,EAAR;4BAdrFC,UAAA,I,iBAc0ET,GAAG,CAACO,KAAK,E;oCAG3EpB,mBAAA,CAqDM,OArDNuB,UAqDM,I,kBApDFpB,mBAAA,CAmDgBK,SAAA,QArE5BC,WAAA,CAkB0CC,KAAA,CAAAC,QAAQ,CAACa,KAAK,EAAtBC,IAAI;yBAA1BC,YAAA,CAmDgBC,wBAAA;MAnD+BzB,GAAG,EAAEuB,IAAI,CAACG,EAAE;MAAGC,UAAS,EAAEC,IAAA,CAAAD,UAAU;MAC9EE,IAAI,EAAED,IAAA,CAAAE,YAAY,CAACP,IAAI,CAACG,EAAE;MAAIA,EAAE,EAAEH,IAAI,CAACG;;MACvBK,KAAK,EAAAC,QAAA,CAAC,MAAK,CApB5CC,gBAAA,CAoBuC,OAAK,GAAApB,gBAAA,OAASU,IAAI,CAACW,KAAK,WAAU,GAAC,GAAArB,gBAAA,CAAGU,IAAI,CAACY,IAAI,iB;MACrDC,OAAO,EAAAJ,QAAA,CACpB,MA6CM,CA7CNlC,mBAAA,CA6CM,OA7CNuC,UA6CM,GA5CFvC,mBAAA,CAuCO;QAvCAwC,QAAM,EAvBrCC,cAAA,CAAAtB,MAAA,IAuB+CW,IAAA,CAAAY,WAAW,CAACjB,IAAI;UACnCzB,mBAAA,CASM,OATN2C,UASM,I,kBARFxC,mBAAA,CAMeK,SAAA,QA/B/CC,WAAA,CAyBmEgB,IAAI,CAACb,MAAM,EAzB9E,CAyBqDC,GAAG,EAAEC,KAAK;6BAA/BY,YAAA,CAMekB,uBAAA;UANkC1C,GAAG,EAAEY;QAAK;UAzB3F+B,OAAA,EAAAX,QAAA,CA0BoC,MAA8B,CAA9BlC,mBAAA,CAA8B,eAAAe,gBAAA,CAApBF,GAAG,CAACG,KAAK,kB,CACLH,GAAG,CAACiC,YAAY,G,+BAA9B3C,mBAAA,CACiC;YA5BrED,GAAA;YA2BqEe,WAAW,EAAEJ,GAAG,CAACG,KAAK;YAAGE,IAAI,EAAEL,GAAG,CAACK,IAAI;YA3B5G,uBAAAC,MAAA,IA4BiDN,GAAG,CAACO,KAAK,GAAAD,MAAA;YAAEE,QAAQ,EAAR;kCA5B5D0B,WAAA,K,iBA4BiDlC,GAAG,CAACO,KAAK,E,mCACtBjB,mBAAA,CACqD;YA9BzFD,GAAA;YA6BmDe,WAAW,EAAEJ,GAAG,CAACG,KAAK;YAAGE,IAAI,EAAEL,GAAG,CAACK,IAAI;YA7B1F,uBAAAC,MAAA,IA8BiDW,IAAA,CAAAkB,kBAAkB,CAACnC,GAAG,EAAEO,KAAK,GAAAD,MAAA;YAAE8B,QAAQ,EAAR;kCA9BhFC,WAAA,K,iBA8BiDpB,IAAA,CAAAkB,kBAAkB,CAACnC,GAAG,EAAEO,KAAK,E;UA9B9E+B,CAAA;;wCAkC4BnD,mBAAA,CA2BM,OA3BNoD,WA2BM,GA1BFpD,mBAAA,CAeI,KAfJqD,WAeI,GAdAC,WAAuB,EACvBtD,mBAAA,CAIO,eAHHA,mBAAA,CAAuC,gBAAAe,gBAAA,CAA5BU,IAAI,CAAC8B,MAAM,CAAClB,IAAI,kBAC3BmB,WAAa,EACbxD,mBAAA,CAAmC,gBAAAe,gBAAA,CAAxBU,IAAI,CAACgC,OAAO,iB,GAE3BC,WAAkB,EACNjC,IAAI,CAACkC,SAAS,Y,cAA1BxD,mBAAA,CAKO,QAhD3CyD,WAAA,GA4CwC5D,mBAAA,CAES,gBAAAe,gBAAA,CADFU,IAAI,CAACkC,SAAS,CAACtB,IAAI,kBA7ClEF,gBAAA,CA8CiD,gBAEb,E,KAhDpC0B,mBAAA,gBAiDoC7D,mBAAA,CAAoD,eAA9CA,mBAAA,CAAuC,gBAAAe,gBAAA,CAA5BU,IAAI,CAACqC,MAAM,CAACzB,IAAI,iB,KAErCrC,mBAAA,CASM,OATN+D,WASM,GARFC,WAA4C,EAC5ChE,mBAAA,CAMM,OANNiE,WAMM,G,CALUnC,IAAA,CAAAoC,mBAAmB,I,cAA/B/D,mBAAA,CAGM,OAHNgE,WAGM,KAzD9CN,mBAAA,gBA0DwCO,YAAA,CAAsCC,wBAAA;QA1D9ExB,OAAA,EAAAX,QAAA,CA0DuD,MAAO,CA1D9DC,gBAAA,CA0DuD,SAAO,E;QA1D9DgB,CAAA;iDAAAmB,UAAA,GA+DwBF,YAAA,CAGQG,gBAAA;QAHAC,aAAY,EAAE1C,IAAA,CAAAY,WAAW;QAAG+B,YAAW,EAAE3C,IAAA,CAAA2C,YAAY;QAAGC,aAAa,EAAE5C,IAAA,CAAA4C,aAAa;QACvF9C,EAAE,EAAEH,IAAI,CAACG,EAAE;QAAG+C,eAAe,EAAElD,IAAI,CAACmD,KAAK;QAAGC,IAAI,EAAE/C,IAAA,CAAAgD,SAAS,CAACC,UAAU,CAACC,QAAQ;QAC/EC,EAAE,EAAExD,IAAI,CAACqC,MAAM,CAACmB,EAAE;QAAGf,mBAAmB,EAAEpC,IAAA,CAAAoC;;MAjEvEf,CAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}